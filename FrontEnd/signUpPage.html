<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Sign Up</title>
    <meta content="width=device-width initial-scale=1" name="viewport">
    <link href="assets/css/bootstrap.min.css" rel="stylesheet">
    <link href="assets/css/StyleSheet_1.css" rel="stylesheet">
    <link href="assets/fonts/css/all.min.css" rel="stylesheet">
</head>
<body>
<header class="p-3 text-bg-dark" style="background-color: #efa80f24 !important;position: absolute;width: 98.9vw !important;">
    <div class="container" style="height: 1vw">
        <div class="d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start">
            <a href="/" class="d-flex align-items-center mb-2 mb-lg-0 text-white text-decoration-none">
                <svg class="bi me-2" width="40" height="32" role="img" aria-label="Bootstrap"><use xlink:href="#bootstrap"></use></svg>
            </a>

            <ul class="nav col-12 col-lg-auto me-lg-auto mb-2 justify-content-center mb-md-0" style="position: absolute;left: 1vw; top: 0">
                <li><a href="index.html" class="nav-link px-2 text-white" id="li1">Home</a></li>
                <li><a href="AdminLogin.html" class="nav-link px-2 text-white" id="li2">Admin</a></li>
                <li><a href="DriverPage.html" class="nav-link px-2 text-white" id="li3">Drivers</a></li>
                <li><a href="RentPage.html" class="nav-link px-2 text-white" id="li4">Bookings</a></li>
                <li><a href="signInPage.html" class="nav-link px-2 text-white" id="li5" >Sign In</a></li>
                <li><a href="signUpPage.html" class="nav-link px-2 text-white" id="li6" style="color: #EFA80F !important;">Sign Up</a></li>
            </ul>
        </div>
    </div>
</header>

<h1 id="topic1" style="top: 47vh !important;">Sign Up</h1>

<img src="assets/images/short13.jpg" style="width: 98.9vw !important; height: 65vh;" alt="">

<section>

    <form id="customer_form">
        <section id="signUp1">
            <div style="background-color: rgba(255,255,255,0)">
                <div class="form-group">
                    <label for="customerId" id="c_id" class="tag1" style="top: 2vh; left: 2vw">Customer ID</label>
                    <input class="form-control" id="customerId" name="c_id" required type="text" style="width: 30vw;height: 4.5vh;position: relative;background-color: white;border: 1px solid #EFA80F;top: 15px;left: 0;right: 0;margin: auto;border-radius: 25px; ">
                    <span class="control-error" id="lbl_c_id"></span>
                </div>
            </div>
            <div style="background-color: rgba(255,255,255,0)">
                <div class="form-group">
                    <label for="customerName" id="c_name" class="tag1" style="top: 2vh; left: 2vw">Name</label>
                    <input class="form-control" id="customerName" name="c_name" required type="text" style="width: 30vw;height: 4.5vh;position: relative;background-color: white;border: 1px solid #EFA80F;top: 15px;left: 0;right: 0;margin: auto;border-radius: 25px; ">
                    <span class="control-error" id="lbl_c_name"></span>
                </div>
            </div>
        </section>

        <section id="signUp2">
            <div style="background-color: rgba(255,255,255,0)">
                <div class="form-group">
                    <label for="customerEmail" id="c_email" class="tag1" style="top: 2vh; left: 2vw">Email</label>
                    <input class="form-control" id="customerEmail" name="c_email" required type="text" style="width: 30vw;height: 4.5vh;position: relative;background-color: white;border: 1px solid #EFA80F;top: 15px;left: 0;right: 0;margin: auto;border-radius: 25px; ">
                    <span class="control-error" id="lbl_c_email"></span>
                </div>
            </div>
            <div style="background-color: rgba(255,255,255,0)">
                <div class="form-group">
                    <label for="customerNic" id="c_nic" class="tag1" style="top: 2vh; left: 2vw">NIC</label>
                    <input class="form-control" id="customerNic" name="c_nic" required type="text" style="width: 30vw;height: 4.5vh;position: relative;background-color: white;border: 1px solid #EFA80F;top: 15px;left: 0;right: 0;margin: auto;border-radius: 25px; ">
                    <span class="control-error" id="lbl_c_nic"></span>
                </div>
            </div>
        </section>

        <section id="signUp3">
            <div style="background-color: rgba(255,255,255,0)">
                <div class="form-group">
                    <label for="customerLicenseNo" id="c_license_no" class="tag1" style="top: 2vh; left: 2vw">License No</label>
                    <input class="form-control" id="customerLicenseNo" name="c_license_no" required type="text" style="width: 30vw;height: 4.5vh;position: relative;background-color: white;border: 1px solid #EFA80F;top: 15px;left: 0;right: 0;margin: auto;border-radius: 25px; ">
                    <span class="control-error" id="lbl_c_license_no"></span>
                </div>
            </div>
            <div style="background-color: rgba(255,255,255,0)">
                <div class="form-group">
                    <label for="customerContactNo" id="c_contact_no" class="tag1" style="top: 2vh; left: 2vw">Contact No</label>
                    <input class="form-control" id="customerContactNo" name="c_contact_no" required type="text" style="width: 30vw;height: 4.5vh;position: relative;background-color: white;border: 1px solid #EFA80F;top: 15px;left: 0;right: 0;margin: auto;border-radius: 25px; ">
                    <span class="control-error" id="lbl_c_contact_no"></span>
                </div>
            </div>
        </section>

        <section id="signUp4">
            <div class="form-group">
                <label for="customerAddress" id="c_address" class="tag1" style="top: 2vh; left: 2vw">Address</label>
                <input class="form-control" id="customerAddress" name="c_address" required type="text" style="width: 62vw;height: 4.5vh;position: relative;background-color: white;border: 1px solid #EFA80F;top: 15px;left: 0;right: 0;margin: auto;border-radius: 25px; ">
                <span class="control-error" id="lbl_c_address"></span>
            </div>
        </section>

        <section id="signUp5">
            <div style="background-color: rgba(255,255,255,0)">
                <div class="form-group">
                    <label for="customerUsername" id="c_username" class="tag1" style="top: 2vh; left: 2vw">Username</label>
                    <input class="form-control" id="customerUsername" name="c_username" required type="text" style="width: 30vw;height: 4.5vh;position: relative;background-color: white;border: 1px solid #EFA80F;top: 15px;left: 0;right: 0;margin: auto;border-radius: 25px; ">
                    <span class="control-error" id="lbl_c_username"></span>
                </div>
            </div>
            <div style="background-color: rgba(255,255,255,0)">
                <div class="form-group">
                    <label for="customerPassword" id="c_password" class="tag1" style="top: 2vh; left: 2vw">Password</label>
                    <input class="form-control" id="customerPassword" name="c_password" required type="password" style="width: 30vw;height: 4.5vh;position: relative;background-color: white;border: 1px solid #EFA80F;top: 15px;left: 0;right: 0;margin: auto;border-radius: 25px; ">
                    <span class="control-error" id="lbl_c_password"></span>
                </div>
            </div>
        </section>

        <section id="signUp6">
            <div style="background-color: rgba(255,255,255,0)">
                <div>
                    <label id="c_nic_img"  class="tag1" style="left: 2vw !important;">Image Of NIC</label>
                    <div class="mb-3">
                        <input class="form-control" type="file" name="c_nic_img" id="customerNicImg" style="width: 30vw;height: 4.5vh;position: relative;background-color: white;border: 1px solid #EFA80F;top: 15px;left: 0;right: 0;margin: auto;border-radius: 25px; ">
                    </div>
                </div>

                <!--<div class="form-group">
                    <label for="username" id="c_username" class="tag1" style="top: 2vh; left: 2vw">Username</label>
                    <input class="form-control" id="username"  required type="text" style="width: 30vw;height: 4.5vh;position: relative;background-color: white;border: 1px solid #EFA80F;top: 15px;left: 0;right: 0;margin: auto;border-radius: 25px; ">
                    <span class="control-error" id="lbl_c_username"></span>
                </div>-->
            </div>
            <div style="background-color: rgba(255,255,255,0)">
                <div>
                    <label id="c_license_img"  class="tag1" style="left: 2vw !important;">Image Of License</label>
                    <div class="mb-3">
                        <input class="form-control" type="file" name="c_license_img" id="customerLicenseImg" style="width: 30vw;height: 4.5vh;position: relative;background-color: white;border: 1px solid #EFA80F;top: 15px;left: 0;right: 0;margin: auto;border-radius: 25px; ">
                    </div>
                </div>
                <!--<div class="form-group">
                    <label for="password" id="c_password" class="tag1" style="top: 2vh; left: 2vw">Password</label>
                    <input class="form-control" id="password"  required type="password" style="width: 30vw;height: 4.5vh;position: relative;background-color: white;border: 1px solid #EFA80F;top: 15px;left: 0;right: 0;margin: auto;border-radius: 25px; ">
                    <span class="control-error" id="lbl_c_password"></span>
                </div>-->
            </div>
        </section>
    </form>

    <!--<section id="signUp1">
        <div style="background-color: rgba(255,255,255,0)">
            <div class="form-group">
                <label for="customerId" id="c_id" class="tag1" style="top: 2vh; left: 2vw">Customer ID</label>
                <input class="form-control" id="customerId"   required type="text" style="width: 30vw;height: 4.5vh;position: relative;background-color: white;border: 1px solid #EFA80F;top: 15px;left: 0;right: 0;margin: auto;border-radius: 25px; ">
                <span class="control-error" id="lbl_c_id"></span>
            </div>
        </div>
        <div style="background-color: rgba(255,255,255,0)">
            <div class="form-group">
                <label for="name" id="c_name" class="tag1" style="top: 2vh; left: 2vw">Name</label>
                <input class="form-control" id="name"  required type="text" style="width: 30vw;height: 4.5vh;position: relative;background-color: white;border: 1px solid #EFA80F;top: 15px;left: 0;right: 0;margin: auto;border-radius: 25px; ">
                <span class="control-error" id="lbl_c_name"></span>
            </div>
        </div>
    </section>

    <section id="signUp2">
        <div style="background-color: rgba(255,255,255,0)">
            <div class="form-group">
                <label for="nic" id="c_nic" class="tag1" style="top: 2vh; left: 2vw">Email</label>
                <input class="form-control" id="nic"  required type="text" style="width: 30vw;height: 4.5vh;position: relative;background-color: white;border: 1px solid #EFA80F;top: 15px;left: 0;right: 0;margin: auto;border-radius: 25px; ">
                <span class="control-error" id="lbl_c_nic"></span>
            </div>
        </div>
        <div style="background-color: rgba(255,255,255,0)">
            <div class="form-group">
                <label for="email" id="c_email" class="tag1" style="top: 2vh; left: 2vw">NIC</label>
                <input class="form-control" id="email"  required type="text" style="width: 30vw;height: 4.5vh;position: relative;background-color: white;border: 1px solid #EFA80F;top: 15px;left: 0;right: 0;margin: auto;border-radius: 25px; ">
                <span class="control-error" id="lbl_c_email"></span>
            </div>
        </div>
    </section>

    <section id="signUp3">
        <div style="background-color: rgba(255,255,255,0)">
            <div class="form-group">
                <label for="license_no" id="c_license_no" class="tag1" style="top: 2vh; left: 2vw">License No</label>
                <input class="form-control" id="license_no"  required type="text" style="width: 30vw;height: 4.5vh;position: relative;background-color: white;border: 1px solid #EFA80F;top: 15px;left: 0;right: 0;margin: auto;border-radius: 25px; ">
                <span class="control-error" id="lbl_c_license_no"></span>
            </div>
        </div>
        <div style="background-color: rgba(255,255,255,0)">
            <div class="form-group">
                <label for="contact_no" id="c_contact_no" class="tag1" style="top: 2vh; left: 2vw">Contact No</label>
                <input class="form-control" id="contact_no"  required type="text" style="width: 30vw;height: 4.5vh;position: relative;background-color: white;border: 1px solid #EFA80F;top: 15px;left: 0;right: 0;margin: auto;border-radius: 25px; ">
                <span class="control-error" id="lbl_c_contact_no"></span>
            </div>
        </div>
    </section>

    <section id="signUp4">
        <div class="form-group">
            <label for="address" id="c_address" class="tag1" style="top: 2vh; left: 2vw">Address</label>
            <input class="form-control" id="address"  required type="text" style="width: 62vw;height: 4.5vh;position: relative;background-color: white;border: 1px solid #EFA80F;top: 15px;left: 0;right: 0;margin: auto;border-radius: 25px; ">
            <span class="control-error" id="lbl_c_address"></span>
        </div>
    </section>

    <section id="signUp5">
        <div style="background-color: rgba(255,255,255,0)">
            <div class="form-group">
                <label for="username" id="c_username" class="tag1" style="top: 2vh; left: 2vw">Username</label>
                <input class="form-control" id="username"  required type="text" style="width: 30vw;height: 4.5vh;position: relative;background-color: white;border: 1px solid #EFA80F;top: 15px;left: 0;right: 0;margin: auto;border-radius: 25px; ">
                <span class="control-error" id="lbl_c_username"></span>
            </div>
        </div>
        <div style="background-color: rgba(255,255,255,0)">
            <div class="form-group">
                <label for="password" id="c_password" class="tag1" style="top: 2vh; left: 2vw">Password</label>
                <input class="form-control" id="password"  required type="password" style="width: 30vw;height: 4.5vh;position: relative;background-color: white;border: 1px solid #EFA80F;top: 15px;left: 0;right: 0;margin: auto;border-radius: 25px; ">
                <span class="control-error" id="lbl_c_password"></span>
            </div>
        </div>
    </section>-->

    <section id="signUp7">
        <div style="background-color: rgba(255,255,255,0)">
            <button id="btnSignUp">Sign Up</button>
        </div>
    </section>

    <section id="signUp8">
        <h6 class="tag1" style="font-size: 1.2em !important;top: 0 !important; width: 30vw; left: 21vw !important;">Already have an account ?</h6>

        <a href="signInPage.html" style="position: relative;top: -5vh !important;font-size: 1.2em !important;color: #EFA80F !important;left: 38.5vw !important;width: 6vw !important;" >Sign In</a>
    </section>

</section>

<script src="assets/js/jquery-3.6.1.min.js"></script>
<script src="assets/js/bootstrap.min.js"></script>
<script>

    let baseURL="http://localhost:8080/BackEnd_war/";

    function registerCustomer() {
        var data = new FormData();

        let nic = $("#customerNicImg")[0].files[0];
        let nicFileName = nic.name;
        let license = $("#customerLicenseImg")[0].files[0];
        let licenseFileName = license.name;

        data.append("file", nic);
        data.append("file", license);

        let customerDTO = {
            customer_id: $("#customerId").val(),
            customer_name: $("#register-form-name").val(),
            customer_nic: $("#customerNic").val(),
            customer_email: $("#customerEmail").val(),
            customer_license: $("#customerLicenseNo").val(),
            customer_contact: $("#customerContactNo").val(),
            customer_address: $("#customerAddress").val(),
            customer_username: $("#customerUsername").val(),
            customer_password: $("#customerPassword").val(),
            customer_nic_img: nicFileName,
            customer_license_img: licenseFileName
        }
        data.append("customer", new Blob([JSON.stringify(customerDTO)], {type: "application/json"}));

        $.ajax({
            url: baseURL+"customer",
            method: 'post',
            async: true,
            contentType: false,
            processData: false,
            data: data,
            success: function (res) {
                alert(res.message);
            },
            error:function(error){
                var jsObject=JSON.parse(error.responseText);
                alert(jsObject.message);
            }
            /*success: function (resp) {
                alert(resp.message);
                if (!(resp.data == null)) {
                    openCustomerHome(resp.data)
                    getAvailableCar();
                }
            },
            error: function (err) {
                console.log(err);
            }*/
        });
        cleanRegisterForm();
    }

    function cleanRegisterForm() {
        $('#customerId,#customerName,#customerNic,#customerEmail,#customerLicenseNo, #customerContactNo,#customerAddress ,#customerUsername, #customerPassword, #customerNicImg, #customerLicenseImg').val("")
    }

</script>
</body>
</html>